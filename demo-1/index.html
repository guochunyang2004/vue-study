<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <title>ä»‹ç» â€” Vue.js</title>
    <meta charset="UTF-8">
 </head>

 <body>
 <div id="app">{{message}}
  <div :id="message"></div>
  <todo-list >
    <template v-slot>
        <todo-item @delete="handleDelete" v-for="item in list" data-test="dd" :title="item.title" v-bind:del="item.del" >
            <template v-slot:pre-icon="{value}">
                <span v-if="value<0.5">å‰ç½®å›¾æ ‡1</span>
                <span v-else >å‰ç½®å›¾æ ‡2</span>
            </template>
        </todo-item>
    </template>
  </todo-list>
<!-- åªæœ‰åœ¨ `key` æ˜¯ `Enter` æ—¶è°ƒç”¨ `vm.submit()` -->
<input type="button" v-on:keyup.enter="submit" value="æäº¤" />

 </div>

 <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
 <script>
 Vue.component('todo-item',{
     props: {
         title: String,
         del: {
             type: Boolean,
             default: false
         },
         preiconType: String,
     },
     //æˆ–
     //props: ['title','del'],
     template: `
     <li >
        <slot name="pre-icon" :num="value"></slot>
        <span v-if="!del">{{title}}</span><span v-else style="text-decoration: line-through">{{title}}</span>
        <slot name="suf-icon">ğŸ˜„</solt>
        <button v-show="!del" @click="handlerClick">åˆ é™¤</button>
        </button></li>`,
     data: function() {
         return {
             num: Math.random()
         }
     },
     methods: {
            handlerClick(){
                console.log('åˆ é™¤')
                this.$emit('delete',this.title,this.del)
            }
     }
 })
 
 Vue.component('todo-list',{
     template:`
      <ul>
        <slot></slot>
     </ul>
     `,
     data: function(){
         return {
             list: [
                {
                    title: 'è¯¾ç¨‹1',
                    del: false
                },
                {
                    title: 'è¯¾ç¨‹2',
                    del: true
                },
                {
                    title: 'è¯¾ç¨‹2',
                    del: false
                },
                {
                    title: 'è¯¾ç¨‹2',
                    del: true
                }
            ]
         }
     },
     methods: {
        
     }
 })

 var vm = new Vue({
     el:'#app',
     data:{
         message: 'helloworldä½ å¥½',
         list:[
            {
                title: 'è¯¾ç¨‹1',
                del: false
            },
             {
                title: 'è¯¾ç¨‹2',
                del: true
            },
             {
                title: 'è¯¾ç¨‹3',
                del: true
            }
         ],
         item: {
             title: 'è¯¾ç¨‹1',
             del: false
         }
     },
     methods: {
         handleDelete(val,v2){
            console.log('handleDelete',val,v2)
        }
     }
 })
 </script>
 </body>
 </html>